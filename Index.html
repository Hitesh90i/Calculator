
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Calculator</title>
</head>

<body>
    <div class="container-fluid text-center">
        <h1>Calculator</h1>
        <div>
            <div class="container" id="container">
                <div class="d-flex justify-content-center gap-1" id="inputfield">
                    <input class="" type="text" name="answer" id="answer" readonly>
                    <button class="btn btn-dark btn-sm" onclick="backspace()">โซ</button>
                </div>
                <div class="row my-2 gap-2 justify-content-center">
                    <button class="btn btn-danger col-2 btn-lg" onclick="allclear()">AC</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation('(')">(</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation(')')">)</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation('/')">รท</button>
                </div>
                <div class="row my-2 gap-2 justify-content-center">
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation(7)">7</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation(8)">8</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation(9)">9</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation('*')">x</button>
                </div>
                <div class="row my-2 gap-2 justify-content-center">
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation(4)">4</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation(5)">5</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation(6)">6</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation('-')">-</button>
                </div>
                <div class="row my-2 gap-2 justify-content-center">
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation(1)">1</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation(2)">2</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation(3)">3</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation('+')">+</button>
                </div>
                <div class="row my-2 gap-2 justify-content-center">
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation('%')">%</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation(0)">0</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation('.')">.</button>
                    <button class="btn btn-dark col-2 btn-lg" onclick="equation('**2')">x^2</button>
                </div>
                <div class="row my-2 justify-content-center">
                    <button class="btn btn-success col-8 btn-lg" onclick="equalto()">=</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        let str = ""
        function equation(v) {
            str = str + v
            document.getElementById("answer").value = str
        }

        function allclear() {
            str = ""
            document.getElementById("answer").value = str
        }

        function equalto() {
            document.getElementById("answer").value = eval(str)
            str = ""
        }

        function backspace() {
            str = str.slice(0, -1);
            document.getElementById("answer").value = str
        }

        document.addEventListener('keydown', function (e) {
            if (["(", ")", "*", "+", "-", "/", "%", ".", "Backspace", "Enter", "1", "2", "3", "4", "5", "6", "7", "8", "9", "0"].includes(e.key)) {
                if (e.key === "Backspace") {
                    backspace()
                }
                else if (e.key === "Enter") {
                    e.preventDefault()
                    equalto()
                }
                else {
                    str = str + e.key
                    document.getElementById("answer").value = str
                }
            }
        });

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>
